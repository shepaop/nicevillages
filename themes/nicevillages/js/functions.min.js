var domReadyRegistry={},_duration=500,_boundsPadding=40,animatedScrollTo;!function(e){animatedScrollTo=function(t,a){var i;if("string"==typeof t||"object"==typeof t){var n=e(t).eq(0);n.length&&(i=n.offset().top)}else"number"==typeof t&&(i=t);if("number"==typeof i){var o={duration:"number"==typeof _duration?_duration:500,easing:"function"==typeof jQuery.easing.easeInOutQuad?"easeInOutQuad":"linear"};"function"==typeof a&&(o.complete=a),e("html, body").stop(!0).animate({scrollTop:i},o)}return!1}}(jQuery);var cfgManager;!function(e){cfgManager=function(t,a){var i={},n=cloneObject(t);i=e.extend(n,a);var o=getViewportWidth();return"object"==typeof i.responsive&&e.each(i.responsive,function(t,a){var n=parseInt(t);!isNaN(n)&&o>=n&&(i=e.extend(i,a))}),i}}(jQuery);var classifyBy;!function(e){classifyBy=function(t,a){var i={};return e.each(t,function(e,t){"string"==typeof t[a]&&void 0===i[t[a]]&&(i[t[a]]=[])}),e.each(t,function(e,t){"string"==typeof t[a]&&i[t[a]].push(t)}),i}}(jQuery);var cloneObject;!function(e){cloneObject=function(t){var a={};return e.each(t,function(e,t){a[e]=t}),a}}(jQuery);var getDatasFromHtml;!function(e){getDatasFromHtml=function(t,a){var i=[],n={html:!1,int:!1,json:!1},o=function(t){var a={};return e.each(t,function(e,t){a[e]=t}),a};return t.each(function(){var t=e(this),r={$elt:t};e.each(a,function(a,i){switch(typeof i){case"object":if("string"==typeof i.rule&&"object"==typeof i.cfg){var s;if(s=":self"===i.rule?t:e(i.rule+":first",t),s.length){var l,u=o(n);u=e.extend(u,i.cfg),l="string"==typeof u.attribute?s.attr(u.attribute):"boolean"==typeof u.html&&u.html?s.html():e.trim(s.text()),"boolean"==typeof u.int&&u.int?l=parseFloat(l):"boolean"==typeof u.json&&u.json&&(l=e.parseJSON(l)),r[a]=l}else r[a]=null}break;default:var d=e(i+":first",t);d.length?r[a]=e.trim(d.text()):r[a]=null}}),i.push(r)}),i}}(jQuery);var getViewportWidth;!function(e){getViewportWidth=function(){var t;return t=void 0!==window.outerWidth?window.outerWidth:-Number.NEGATIVE_INFINITY,0===t&&void 0!==window.orientation&&(0===window.orientation||180===window.orientation?t=screen.width:90!==window.orientation&&-90!==window.orientation||(t=screen.availWidth>screen.width?screen.availWidth:e(window).width())),t}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,a,i,n){return jQuery.easing[jQuery.easing.def](e,t,a,i,n)},easeInQuad:function(e,t,a,i,n){return i*(t/=n)*t+a},easeOutQuad:function(e,t,a,i,n){return-i*(t/=n)*(t-2)+a},easeInOutQuad:function(e,t,a,i,n){return(t/=n/2)<1?i/2*t*t+a:-i/2*(--t*(t-2)-1)+a},easeInCubic:function(e,t,a,i,n){return i*(t/=n)*t*t+a},easeOutCubic:function(e,t,a,i,n){return i*((t=t/n-1)*t*t+1)+a},easeInOutCubic:function(e,t,a,i,n){return(t/=n/2)<1?i/2*t*t*t+a:i/2*((t-=2)*t*t+2)+a},easeInQuart:function(e,t,a,i,n){return i*(t/=n)*t*t*t+a},easeOutQuart:function(e,t,a,i,n){return-i*((t=t/n-1)*t*t*t-1)+a},easeInOutQuart:function(e,t,a,i,n){return(t/=n/2)<1?i/2*t*t*t*t+a:-i/2*((t-=2)*t*t*t-2)+a},easeInQuint:function(e,t,a,i,n){return i*(t/=n)*t*t*t*t+a},easeOutQuint:function(e,t,a,i,n){return i*((t=t/n-1)*t*t*t*t+1)+a},easeInOutQuint:function(e,t,a,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+a:i/2*((t-=2)*t*t*t*t+2)+a},easeInSine:function(e,t,a,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+a},easeOutSine:function(e,t,a,i,n){return i*Math.sin(t/n*(Math.PI/2))+a},easeInOutSine:function(e,t,a,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+a},easeInExpo:function(e,t,a,i,n){return 0===t?a:i*Math.pow(2,10*(t/n-1))+a},easeOutExpo:function(e,t,a,i,n){return t===n?a+i:i*(1-Math.pow(2,-10*t/n))+a},easeInOutExpo:function(e,t,a,i,n){return 0===t?a:t===n?a+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+a:i/2*(2-Math.pow(2,-10*--t))+a},easeInCirc:function(e,t,a,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+a},easeOutCirc:function(e,t,a,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+a},easeInOutCirc:function(e,t,a,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+a:i/2*(Math.sqrt(1-(t-=2)*t)+1)+a},easeInElastic:function(e,t,a,i,n){var o=1.70158,r=0,s=i;return 0===t?a:1==(t/=n)?a+i:(r||(r=.3*n),s<Math.abs(i)?(s=i,o=r/4):o=r/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)+a)},easeOutElastic:function(e,t,a,i,n){var o=1.70158,r=0,s=i;return 0===t?a:1==(t/=n)?a+i:(r||(r=.3*n),s<Math.abs(i)?(s=i,o=r/4):o=r/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/r)+i+a)},easeInOutElastic:function(e,t,a,i,n){var o=1.70158,r=0,s=i;return 0===t?a:2==(t/=n/2)?a+i:(r||(r=n*(.3*1.5)),s<Math.abs(i)?(s=i,o=r/4):o=r/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*-.5+a:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*.5+i+a)},easeInBack:function(e,t,a,i,n,o){return void 0===o&&(o=1.70158),i*(t/=n)*t*((o+1)*t-o)+a},easeOutBack:function(e,t,a,i,n,o){return void 0===o&&(o=1.70158),i*((t=t/n-1)*t*((o+1)*t+o)+1)+a},easeInOutBack:function(e,t,a,i,n,o){return void 0===o&&(o=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(o*=1.525))*t-o))+a:i/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+a},easeInBounce:function(e,t,a,i,n){return i-jQuery.easing.easeOutBounce(e,n-t,0,i,n)+a},easeOutBounce:function(e,t,a,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+a:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+a:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+a:i*(7.5625*(t-=2.625/2.75)*t+.984375)+a},easeInOutBounce:function(e,t,a,i,n){return t<n/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,n)+a:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,i,n)+.5*i+a}}),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var a=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var a,i=e.ui.mouse.prototype,n=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(e){var i=this;!a&&i._mouseCapture(e.originalEvent.changedTouches[0])&&(a=!0,i._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){a&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){a&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),a=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),n.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery);var mixRgbColors=function(e,t,a){return{r:Math.round(e.r+(t.r-e.r)*(a/100)),g:Math.round(e.g+(t.g-e.g)*(a/100)),b:Math.round(e.b+(t.b-e.b)*(a/100))}};!function(e){e.fn.extend({widthPercentage:function(){var e=this.parent();return Math.round(100*this.width()/e.width()*Math.pow(10,5))/Math.pow(10,5)}})}(jQuery),function(e){var t=function(t,a){void 0===t&&(t=document);e(".messages",t).each(function(){var t=e(this);void 0===t.data("init-messages")&&(t.data("init-messages",!0),t.hide(),(new Greybox).setClass("center").html('<div class="'+t.attr("class")+'">'+t.html()+"</div>"))})};Drupal.behaviors.bodySystemMessages={attach:t}}(jQuery),function(e){var t=function(t,a){void 0===t&&(t=document);var i="heading-village";e("."+i,t).each(function(){var t=e(this);if(!t.data("init-"+i)){t.data("init-"+i,!0);var a=e("."+i+"--title",t),n=e("<p />",{class:i+"--toggler"}),o=e("<button />",{class:"button-action"});o.text(Drupal.t("See pictures"));var r=e("<div />",{class:i+"--close"}),s=e("."+i+"--picture > ul",t);e("> li",s).show(),s.responsiveSlider({autoPlay:!0,autoPlayDuration:5,mode:"slide",sliderRange:1,responsive:{960:{mode:"fade"}}}),o.click(function(){t.addClass("focus"),t.append(r)}),r.click(function(){t.removeClass("focus"),r.detach()}),a.append(n.append(o))}})};Drupal.behaviors.headingVillage={attach:t}}(jQuery),function(e){var t=function(t,a){void 0===t&&(t=document);var i=e(".book-list",t),n=e("aside.two-cols--aside");i.each(function(){var t=e(this);void 0===t.data("init-book-list")&&n.length&&(t.data("init-book-list",!0),t.detach().show().appendTo(n))})};Drupal.behaviors.bookList={attach:t}}(jQuery),function(e){var t=function(t,a){void 0===t&&(t=document);var i="content-tab-system";e("."+i,t).each(function(){var t=e(this);if(void 0===t.data("init-"+i)){t.data("init-"+i,!0);var a=e("> ."+i+"--group",t);t.rsAccordion({group:"> ."+i+"--group",trigger:"> ."+i+"--heading",section:"> ."+i+"--section",startOpened:"",easing:"easeInOutQuart",duration:_duration,oneByOne:!0,atLeastOne:!1,expandedClass:"expanded",collapsedClass:"collapsed",accordionEnabled:"accordion-enabled",scrollTo:!0,tabs:!1,onAfterExpand:function(e,t){t.$triggers[e].hasClass("poi")&&(poisMap.mapbox.resize(),poisMap.mapbox.fitBounds(poisMap.targetedBounds,{padding:_boundsPadding}))},responsive:{960:{tabs:function(i){i.addClass("content-tabs"),e("> li",i).each(function(t){var i=a.eq(t).find(".content-tab-system--heading").attr("class"),n=i.split("content-tab-system--heading");"string"==typeof n[1]&&e(this).attr("class",e(this).attr("class")+" "+e.trim(n[1]))}),t.before(i)},atLeastOne:!0,startOpened:":first",duration:0,expandedClass:"active"}}})}})};Drupal.behaviors.contentTabSystem={attach:t}}(jQuery),function(e){var t=function(t,a){void 0===t&&(t=document);e(".main-menu",t).each(function(){var t=e(this);if(void 0===t.data("init-main-menu")){t.data("init-main-menu",!0);var a=e("body:first");e(".main-menu--menu",t).rsAccordion({group:"> li",trigger:"> span, > a",section:"> .menu-simple",startOpened:"",easing:"easeInOutQuart",duration:_duration,oneByOne:!0,atLeastOne:!1,expandedClass:"expanded",collapsedClass:"collapsed",accordionEnabled:"accordion-enabled",scrollTo:!1,tabs:!1});var i=e(".site-header .burger-menu--trigger");if(i.length){var n=e(".main-menu--overlay",t),o=e(".main-menu--panel",t);i.unbind("click"),i.click(function(){n.hide(),o.hide(),t.show(),a.css("overflow-y","hidden"),n.stop(!0,!0).fadeIn(_duration),o.css("right","-"+o.css("width")).show(),o.stop(!0,!0).animate({right:"0"},{duration:_duration,easing:"easeInOutQuart"})}),n.click(function(){a.css("overflow-y","inherit"),o.stop(!0,!0).animate({right:"-"+o.css("width")},{duration:_duration,easing:"easeInOutQuart",complete:function(){t.hide()}}),n.stop(!0,!0).fadeOut(_duration)})}}})};Drupal.behaviors.mainMenu={attach:t}}(jQuery);var mapFiltersParams=[{min:'input[name="field_note_value[min]"]',max:'input[name="field_note_value[max]"]',step:.5,prefixMin:'<span class="map-filters--prefix">'+Drupal.t("From")+"</span>",prefixMax:'<span class="map-filters--prefix">'+Drupal.t("To")+"</span>",suffix:'<span class="map-filters--star map-filters--suffix"></span>',format:function(e){return e}},{min:'input[name="field_population_value[min]"]',max:'input[name="field_population_value[max]"]',step:500,prefixMin:'<span class="map-filters--prefix">'+Drupal.t("From")+"</span>",prefixMax:'<span class="map-filters--prefix">'+Drupal.t("To")+"</span>",suffix:'<span class="map-filters--suffix">'+Drupal.t("hab.")+"</span>",format:function(e){return e}}];!function(e){var t=function(t,a){void 0===t&&(t=document);var i="map-filters";e("."+i,t).each(function(){var t=e(this),a=e(".map-filters--form form",t);void 0===a.data("init-"+i)&&(a.data("init-"+i,!0),e.each(mapFiltersParams,function(t,n){var o=e(n.min,a),r=e(n.max,a);if(o.length&&r.length){o.hide().parents(".form-item:first").show(),r.parents(".form-item:first").hide();var s=parseFloat(o[0].defaultValue),l=parseFloat(r[0].defaultValue);if(!isNaN(s)&&!isNaN(l)){void 0===mapFiltersParams[t].valMin&&void 0===mapFiltersParams[t].valMax&&(mapFiltersParams[t].valMin=s,mapFiltersParams[t].valMax=l);var u=e("<div />",{class:i+"--slider-wrapper"}),d=e("<div />",{class:""}),c=e("<div />",{class:i+"--datas"}),p=e("<div />",{class:i+"--datas-left"}).html(n.prefixMin+n.format(s)+n.suffix),v=e("<div />",{class:i+"--datas-right"}).html(n.prefixMax+n.format(l)+n.suffix);o.before(u.append(d).append(c.append(p).append(v))),d.slider({range:!0,animate:!0,step:mapFiltersParams[t].step,min:mapFiltersParams[t].valMin,max:mapFiltersParams[t].valMax,values:[s,l],slide:function(e,t){t.value!==t.values[0]?(r.val(t.values[1]),v.html(n.prefixMax+n.format(t.value)+n.suffix)):(o.val(t.values[0]),p.html(n.prefixMin+n.format(t.value)+n.suffix))}})}}}))})};Drupal.behaviors.mapFilters={attach:t}}(jQuery);var poisMap={};!function(e){var t=function(t,a){void 0===t&&(t=document);e(".map-pois",t).each(function(){var t=e(this);if(void 0===t.data("init-map-pois")){t.data("init-map-pois",!0),poisMap.$list=e(".map-pois--content .light-list ul.light-list--list > li",t),poisMap.$mapHolder=e(".map-pois--map",t);var a=getDatasFromHtml(poisMap.$list,{title:".teaser-light--title",lat:{rule:'meta[itemprop="latitude"]',cfg:{attribute:"content"}},lng:{rule:'meta[itemprop="longitude"]',cfg:{attribute:"content"}}});e.each(a,function(e,t){t.lat=parseFloat(t.lat),t.lng=parseFloat(t.lng)}),poisMap.$holder=e("<div />",{class:"map-pois--map-canvas"}),poisMap.$mapHolder.empty(),poisMap.$mapHolder.append(poisMap.$holder),mapboxgl.accessToken="pk.eyJ1Ijoic2hlcGFvcDA3IiwiYSI6ImNqNjE5NThxZzByOHUzM21yd2Vtdjd2NmUifQ.KWUdy8hQ5LcLZvrQeoj1Zw",poisMap.mapbox=new mapboxgl.Map({container:poisMap.$holder[0],style:"mapbox://styles/mapbox/outdoors-v10",zoom:8,minZoom:4,maxZoom:17,dragRotate:!1,center:[0,0],scrollZoom:!1,logoPosition:"top-left"}),poisMap.mapbox.addControl(new mapboxgl.NavigationControl,"bottom-right"),poisMap.mapbox.addControl(new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),poisMap.markers=[],poisMap.addMarker=function(t){var a=t,i=e("<div />",{class:"map-pois--marker poi"});return a.popup=new mapboxgl.Popup({closeButton:!1}).setLngLat([a.lng,a.lat]).setHTML('<div class="padder">'+a.title+"</div>").addTo(poisMap.mapbox),a.marker=new mapboxgl.Marker(i[0]).setLngLat([a.lng,a.lat]).setPopup(a.popup).addTo(poisMap.mapbox),e(".button-geolocate",a.$elt).remove(),a.$button=e("<div />",{class:"button-geolocate",title:Drupal.t("Reveal on the map")}).text(Drupal.t("Reveal on the map")),a.$button.click(function(){a.marker.togglePopup(),animatedScrollTo(poisMap.$mapHolder,function(){})}),a.$button.appendTo(e(".teaser-light--actions:first",a.$elt)),poisMap.markers.push(a),a.marker};var i=e('.heading-village--overlay div[itemprop="geo"]'),n=parseFloat(e('meta[itemprop="latitude"]',i).attr("content")),o=parseFloat(e('meta[itemprop="longitude"]',i).attr("content"));poisMap.displayDatas=function(t){var a=new mapboxgl.LngLatBounds;a.extend([o,n]);var i=e("<div />",{class:"map-pois--marker"});new mapboxgl.Marker(i[0]).setLngLat([o,n]).addTo(poisMap.mapbox),e.each(t,function(e,t){isNaN(t.lng)||isNaN(t.lat)||(poisMap.addMarker(t),a.extend([t.lng,t.lat]))}),poisMap.targetedBounds=a,poisMap.mapbox.fitBounds(a,{padding:_boundsPadding})},poisMap.displayDatas(a)}})};Drupal.behaviors.mapPois={attach:t}}(jQuery);var villagesMapReady=!1,villagesMap,villagesDatas,$view={};!function(e){var t=function(){e(".search-villages").each(function(){var t=e(this);if($view.formHolder=e(".search-villages--filters",t),$view.form=e("form",$view.formHolder),$view.latMin=e('input[name="field_latitude_value[min]"]',$view.form),$view.latMax=e('input[name="field_latitude_value[max]"]',$view.form),$view.lngMin=e('input[name="field_longitude_value[min]"]',$view.form),$view.lngMax=e('input[name="field_longitude_value[max]"]',$view.form),$view.latMin.parents(".form-item:first").hide(),$view.latMax.parents(".form-item:first").hide(),$view.lngMin.parents(".form-item:first").hide(),$view.lngMax.parents(".form-item:first").hide(),$view.submit=e('input[type="submit"]',$view.form),$view.list=e(".list-villages ul.list-villages--list > li",t),villagesDatas=getDatasFromHtml($view.list,{title:".teaser-village--title",html:{rule:".teaser-village--content",cfg:{html:!0}},url:{rule:".teaser-village--content",cfg:{attribute:"href"}},lat:{rule:'meta[itemprop="latitude"]',cfg:{attribute:"content"}},lng:{rule:'meta[itemprop="longitude"]',cfg:{attribute:"content"}},rating:{rule:".teaser-village--rating .five-stars",cfg:{attribute:"class"}}}),e.each(villagesDatas,function(e,t){t.lat=parseFloat(t.lat),t.lng=parseFloat(t.lng),"string"==typeof t.rating&&(t.rating=t.rating.split("five-stars"),t.rating=t.rating[1])}),void 0===villagesMap){villagesMap={},villagesMap.lang="en";var a=e("html:first").attr("lang");"string"==typeof a&&(villagesMap.lang=a),villagesMap.$wrapper=e(".map-search--section",t),villagesMap.$holder=e("<div />",{class:"map-search--map-canvas"}),villagesMap.$buttonWrapper=e("<div />",{class:"map-search--search"}),villagesMap.$button=e("<div />",{class:"button-action small search"}).text(Drupal.t("Search here")).hide(),villagesMap.$button.click(function(){villagesMap.hideMapButton(),$view.fakeSubmit.attr("disabled",!0),$view.submit.click()}),$view.fakeSubmit=e('<button type="submit" class="button-action big block search">'+$view.submit.val()+"</button>"),$view.submit.hide(),$view.fakeSubmit.click(function(e){e.preventDefault(),$view.fakeSubmit.attr("disabled",!0),$view.submit.click()}),villagesMap.$wrapper.empty(),villagesMap.$wrapper.append(villagesMap.$holder).append(villagesMap.$buttonWrapper.append(villagesMap.$button)),$view.submit.after($view.fakeSubmit),mapboxgl.accessToken="pk.eyJ1Ijoic2hlcGFvcDA3IiwiYSI6ImNqNjE5NThxZzByOHUzM21yd2Vtdjd2NmUifQ.KWUdy8hQ5LcLZvrQeoj1Zw",villagesMap.mapbox=new mapboxgl.Map({container:villagesMap.$holder[0],style:"mapbox://styles/mapbox/outdoors-v10",zoom:8,minZoom:1,maxZoom:17,dragRotate:!1,center:[0,0],scrollZoom:!1,logoPosition:"bottom-left"}),villagesMap.mapbox.addControl(new mapboxgl.NavigationControl,"bottom-right"),villagesMap.mapbox.addControl(new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),villagesMap.mapbox.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken}),"top-left");var i=new mapboxgl.LngLatBounds;e.each(villagesDatas,function(e,t){i.extend([t.lng,t.lat])}),villagesDatas.length?villagesMap.mapbox.fitBounds(i,{padding:_boundsPadding}):villagesMap.mapbox.fitBounds([[-22.860179,30.014604],[31.983572,60.033416]],{padding:_boundsPadding}),villagesMap.mapbox.on("move",function(){var e=villagesMap.mapbox.getBounds(),t=function(e){return e=Math.round(1e6*e)/1e6};$view.latMin.val(t(e.getSouthWest().lat)),$view.latMax.val(t(e.getNorthEast().lat)),$view.lngMin.val(t(e.getSouthWest().lng)),$view.lngMax.val(t(e.getNorthEast().lng)),villagesMap.showMapButton()}),villagesMap.mapbox.on("load",function(){villagesMap.mapbox.setLayoutProperty("place-city-lg-n","text-field","{name_"+villagesMap.lang+"}"),villagesMap.mapbox.setLayoutProperty("country-label-lg","text-field","{name_"+villagesMap.lang+"}")}),villagesMap.showMapButton=function(){villagesMap.$button.show()},villagesMap.hideMapButton=function(){villagesMap.$button.hide()},villagesMap.markers=[],villagesMap.addMarker=function(t){var a=t,i=e("<div />",{class:"map-search--marker"});return"string"==typeof t.rating&&i.addClass(t.rating),a.popup=new mapboxgl.Popup({closeButton:!1}).setLngLat([a.lng,a.lat]).setHTML('<div class="teaser-village"><a href="'+a.url+'" class="teaser-village--content">'+a.html+"</a></div>").addTo(villagesMap.mapbox),a.marker=new mapboxgl.Marker(i[0]).setLngLat([a.lng,a.lat]).setPopup(a.popup).addTo(villagesMap.mapbox),e(".button-geolocate",a.$elt).remove(),a.$button=e("<div />",{class:"button-geolocate",title:Drupal.t("Reveal on the map")}),a.$button.click(function(){a.marker.togglePopup(),animatedScrollTo(villagesMap.$wrapper,function(){})}),a.$button.appendTo(e(".inline-actions:first",a.$elt)),villagesMap.markers.push(a),a.marker},villagesMap.removeAllMarkers=function(){e.each(villagesMap.markers,function(e,t){t.marker.remove()})},villagesMap.reloadDatas=function(e){villagesMap.removeAllMarkers(),villagesMap.displayDatas(e)},villagesMap.displayDatas=function(t){e.each(t,function(e,t){villagesMap.addMarker(t)})},villagesMap.displayDatas(villagesDatas),villagesMapReady=!0}else villagesMap.reloadDatas(villagesDatas),$view.fakeSubmit.removeAttr("disabled")})};Drupal.behaviors.searchVillages={attach:t}}(jQuery),function(e){e.fn.extend({rsAccordion:function(t){var a,i={group:"",trigger:"",section:"",startOpened:"",easing:"linear",duration:void 0!==_duration?_duration:500,oneByOne:!0,atLeastOne:!1,expandedClass:"expanded",collapsedClass:"collapsed",accordionEnabled:"accordion-enabled",scrollTo:!1,tabsClass:"accordion-tabs",tabs:!1,responsive:{},onBeforeExpand:function(){},onAfterExpand:function(){},onBeforeCollapse:function(){},onAfterCollapse:function(){},_resizeTimeout:.25},n=this;n.$groups=[],n.$triggers=[],n.$tabs=[],n.$sections=[],n.expandedStatus=[];var o,r,s=function(){e(window).bind("resize",n.reload),a=cfgManager(i,t);var o=e(a.group,n);n.$tabsHolder=e("<ul />",{class:a.tabsClass}),o.filter(a.startOpened).each(function(t,i){var n=e(i),o=e(a.trigger,n),r=e(a.section,n);o.length&&r.length&&n.data("accordion-section-to-expand-by-default",!0)});var r;r=""!==a.startOpened?o.filter(":not("+a.startOpened+")"):o,r.each(function(t,i){var n=e(i),o=e(a.trigger,n),r=e(a.section,n);o.length&&r.length&&n.data("accordion-section-to-expand-by-default",!1)});var s=0;o.each(function(t,i){var o,r=s,l=e(i),u=e(a.trigger,l),d=e(a.section,l);if(u.length&&(o=e("<li />").html(u.html()),n.$tabsHolder.append(o)),u.length&&d.length){n.$groups[r]=l,n.$triggers[r]=u,n.$sections[r]=d,n.$tabs[r]=o,l.addClass(a.accordionEnabled);var c=l.data("accordion-section-to-expand-by-default");if("boolean"==typeof c){var p=a.scrollTo,v=a.duration;a.scrollTo=!1,a.duration=0,c?n.expand(r):n.collapse(r),a.scrollTo=p,a.duration=v}var f=function(){return l.hasClass(a.collapsedClass)?n.expand(r):l.hasClass(a.expandedClass)&&(a.oneByOne&&!a.atLeastOne||!a.oneByOne)&&n.collapse(r),!1};u.click(f),o.click(f),s++}}),"function"==typeof a.tabs?a.tabs(n.$tabsHolder):"boolean"==typeof a.tabs&&a.tabs&&n.prepend(n.$tabsHolder)},l=function(e){n.$groups[e].removeClass(a.expandedClass),n.$groups[e].addClass(a.collapsedClass),n.$tabs[e].removeClass(a.expandedClass),n.$tabs[e].addClass(a.collapsedClass),n.expandedStatus[e]=!1},u=function(e){n.$groups[e].removeClass(a.collapsedClass),n.$groups[e].addClass(a.expandedClass),n.$tabs[e].removeClass(a.collapsedClass),n.$tabs[e].addClass(a.expandedClass),n.expandedStatus[e]=!0};return n.expand=function(t){n.$groups[t].hasClass(a.expandedClass)||(u(t),a.oneByOne&&e.each(n.$groups,function(e){var a=e;a!==t&&n.collapse(a)}),a.onBeforeExpand(t,n),n.$sections[t].stop(!0,!0).slideDown({easing:a.easing,duration:a.duration,complete:function(){a.scrollTo&&animatedScrollTo(n.$groups[t]),a.onAfterExpand(t,n)}}))},n.collapse=function(e){n.$groups[e].hasClass(a.collapsedClass)||(l(e),a.onBeforeCollapse(e,n),n.$sections[e].stop(!0,!0).slideUp({easing:a.easing,duration:a.duration,complete:function(){a.onAfterCollapse(e,n)}}))},n.reload=function(){clearTimeout(o),o=setTimeout(function(){var e=getViewportWidth();e!==r&&(r=e,n.destroy(),s())},1e3*a._resizeTimeout)},n.destroy=function(){e.each(n.$groups,function(e,t){t.removeClass(a.expandedClass).removeClass(a.collapsedClass).removeClass(a.accordionEnabled)}),e.each(n.$triggers,function(e,t){t.unbind("click")}),e.each(n.$sections,function(e,t){t.show()}),a=void 0,n.$tabsHolder.remove(),n.$groups=[],n.$triggers=[],n.$tabs=[],n.$sections=[],n.expandedStatus=[],o=void 0},s(),n}})}(jQuery);var BurgerMenu;!function(e){BurgerMenu=function(t){"object"!=typeof t&&(t={});var a,i={bypass:!1,prefix:"burger-menu",trigger:"body",openClass:"open",duration:"number"==typeof _duration?_duration:500,easing:"linear",side:"right",scroll:!1,structure:{},onStructureChanged:function(){},onBeforeOpen:function(){},onAfterOpen:function(){},onBeforeClose:function(){},onAfterClose:function(){},_resizeTimeout:.25},n=this,o=e("body");n.structure={};var r,s,l=!1,u=!1,d=function(){if(e(window).bind("resize",n.reload),a=cfgManager(i,t),r=getViewportWidth(),"boolean"!=typeof a.bypass||a.bypass)l=!1;else switch(n.$container=e("<div />",{class:a.prefix+"--container"}).hide(),n.$overlay=e("<div />",{class:a.prefix+"--overlay"}).hide(),n.$trigger=e("<div />",{class:a.prefix+"--trigger"}),n.$trigger.click(function(){l?n.close():n.open()}),n.$overlay.click(n.close),l&&(l=!1,n.open()),typeof a.trigger){case"string":case"object":e(a.trigger).append(n.$trigger);break;case"function":a.trigger(n.$trigger)}},c=function(){a.scroll||o.css("overflow-y","hidden"),n.addStructure(a.structure),o.append(n.$overlay).append(n.$container)},p=function(){a.scroll||o.css("overflow-y","auto"),n.empty(),n.$overlay.detach().hide(),n.$container.detach().hide()};return n.addStructure=function(t){"object"==typeof t&&(e.each(t,function(t,i){var o=e("<div />",{class:a.prefix+"--"+t});n.structure[t]={container:o,clones:[]},"string"==typeof i&&e(i).each(function(a){var i=e(this).clone();n.structure[t].clones[a]=i,i.appendTo(o)}),n.$container.append(o)}),a.onStructureChanged(n.structure,n))},n.empty=function(){n.$container.empty(),n.structure={},a.onStructureChanged(n.structure,n)},n.open=function(){if(!l&&!u){u=!0,c(),a.onBeforeOpen(n),n.$trigger.addClass(a.openClass);var e={right:"0px"},t=i.side;"left"===a.side&&(t="left",e={left:"0px"}),n.$container.css(t,"150%").show();var o=n.$container.width();n.$container.css(t,"-"+o+"px"),n.$overlay.stop(!0,!0).fadeIn({duration:a.duration}),n.$container.stop(!0,!0).animate(e,{duration:a.duration,easing:a.easing,complete:function(){u=!1,l=!0,a.onAfterOpen(n)}})}},n.close=function(){if(l&&!u){u=!0,a.onBeforeClose(n),n.$trigger.removeClass(a.openClass);var e=n.$container.width(),t={right:"-"+e+"px"};"left"===a.side&&(t={left:"-"+e+"px"}),n.$overlay.stop(!0,!0).fadeOut({duration:a.duration}),n.$container.stop(!0,!0).animate(t,{duration:a.duration,easing:a.easing,complete:function(){p(),u=!1,l=!1,a.onAfterClose(n)}})}},n.reload=function(){clearTimeout(s),s=setTimeout(function(){var e=getViewportWidth();e!==r&&(r=e,n.destroy(),d())},1e3*a._resizeTimeout)},n.destroy=function(){"object"==typeof a&&a.onAfterClose(n),void 0!==n.$container&&n.$container.remove(),void 0!==n.$overlay&&n.$overlay.remove(),void 0!==n.$trigger&&n.$trigger.remove(),a=void 0,n.$container=void 0,n.$overlay=void 0,n.$trigger=void 0,n.structure={},u=!1,s=void 0},d(),n}}(jQuery);var Greybox;!function(e){Greybox=function(t){"object"!=typeof t&&(t={});var a={prefix:"greybox",duration:"number"==typeof _duration?_duration:500,close:"",title:"",cssClass:"",onBeforeOpen:function(){},onAfterOpen:function(){},onBeforeClose:function(){},onAfterClose:function(){}},i=this;i.config={};var n=e(document);i.$greybox=null,i.$overlay=null,i.$container=null,i.$content=null,i.$title=null,i.$close=null,i.$iframe=null,i.$youtube=null,i.$dailymotion=null,i.$vimeo=null,i.$image=null;var o,r,s=null,l=function(){"absolute"===i.$container.css("position")?i.$container.css({"margin-top":n.scrollTop()}):i.$container.css({"margin-top":"inherit"})},u=function(){clearTimeout(r),r=setTimeout(function(){var e=getViewportWidth();e!==s&&(s=e,l())},250)};return i.setConfig=function(e){return i.config=cfgManager(a,e),i.setPrefix(i.config.prefix),i.setClass(i.config.cssClass),i.setCloseText(i.config.close),i.setTitle(i.config.title),i.config},i.getConfig=function(){return i.config},i.open=function(t){return void 0===t&&(t=function(){}),e("body").append(i.$greybox),i.config.onBeforeOpen(i),i.$container.hide(),i.$overlay.hide(),i.$greybox.show(),l(),i.$overlay.stop(!0,!0).fadeIn({duration:i.config.duration/2,complete:function(){i.$container.stop(!0,!0).fadeIn({duration:i.config.duration/2,complete:function(){t(),i.config.onAfterOpen(i)}})}}),i},i.close=function(e){return void 0===e&&(e=function(){}),i.config.onBeforeClose(i),i.$container.stop(!0,!0).fadeOut({duration:i.config.duration/2,complete:function(){i.$overlay.stop(!0,!0).fadeOut({duration:i.config.duration/2,complete:function(){i.$greybox.hide().detach(),i.config.onAfterClose(i),e(),i.$content.empty()}})}}),i},i.setPrefix=function(e){return i.$greybox.attr("class",e),i.$overlay.attr("class",e+"--overlay"),i.$container.attr("class",e+"--container"),i.$content.attr("class",e+"--content clearfix"),i.$title.attr("class",e+"--title"),i.$close.attr("class",e+"--close"),i.$iframe.attr("class",e+"--iframe"),i.$youtube.attr("class",e+"--iframe "+e+"--youtube"),i.$dailymotion.attr("class",e+"--iframe "+e+"--dailymotion"),i.$vimeo.attr("class",e+"--iframe "+e+"--vimeo"),i},i.setCloseText=function(e){return i.$close.html(e),i},i.setClass=function(e){return i.$greybox.addClass(e),i},i.unsetClass=function(e){return i.$greybox.removeClass(e),i},i.setLoading=function(){return i.$greybox.addClass(i.config.prefix+"--loading"),i},i.unsetLoading=function(){return i.$greybox.removeClass(i.config.prefix+"--loading"),i},i.html=function(e,t){return void 0===t&&(t=function(){}),i.$content.prepend(e),i.open(t),i},i.setTitle=function(e){return""===e?i.$title.empty().detach():i.$title.html(e).insertBefore(i.$content),i},i.iframe=function(e,t,a){return void 0!==t&&null!==t||(t=400),void 0===a&&(a=function(){}),i.$iframe.detach(),i.$iframe.attr({src:e,height:t}),i.$content.prepend(i.$iframe),i.open(a),i},i.youtube=function(e,t,a){return void 0!==t&&null!==t||(t=400),void 0===a&&(a=function(){}),e="//www.youtube.com/embed/"+e+"?rel=0&wmode=transparent",i.$youtube.detach(),i.$youtube.attr({src:e,height:t}),i.$content.prepend(i.$youtube),i.open(a),i},i.dailymotion=function(e,t,a){return void 0!==t&&null!==t||(t=400),void 0===a&&(a=function(){}),e="//www.dailymotion.com/embed/video/"+e,i.$dailymotion.detach(),i.$dailymotion.attr({src:e,height:t}),i.$content.prepend(i.$dailymotion),i.open(a),i},i.vimeo=function(e,t,a){return void 0!==t&&null!==t||(t=400),void 0===a&&(a=function(){}),e="//player.vimeo.com/video/"+e,i.$vimeo.detach(),i.$vimeo.attr({src:e,height:t}),i.$content.prepend(i.$vimeo),i.open(a),i},i.ajaxGet=function(t,a,n){i.open().setLoading();var o={type:"get",url:t,complete:function(e){i.unsetLoading(),i.$content.prepend(e.responseText),"function"==typeof n&&n(i,t,e)}};return"object"==typeof a&&(o.data=a),e.ajax(o),i},i.ajaxPost=function(t,a,n){i.open().setLoading();var o={type:"post",url:t,complete:function(e){i.unsetLoading(),i.$content.prepend(e.responseText),"function"==typeof n&&n(i,t,e)}};return"object"==typeof a&&(o.data=a),e.ajax(o),i},i.image=function(t,a){void 0!==o&&clearInterval(o),i.open().setLoading(),null!==i.$image&&i.$image.remove(),i.$image=e("<img />",{src:""+t,alt:"",class:i.config.prefix+"--image"}).hide(),i.$content.prepend(i.$image);var n=function(){i.$image.fadeIn(i.config.duration)};return"function"==typeof a&&(n=a),o=setInterval(function(){i.$image[0].complete&&(clearInterval(o),i.unsetLoading(),n(i,i.$image,t))},50),i},function(){s=getViewportWidth(),e(window).bind("resize",u),i.$greybox=e("<div />").hide(),i.$overlay=e("<div />").hide(),i.$container=e("<div />").hide(),i.$content=e("<div />"),i.$title=e("<div />"),i.$close=e("<div />"),i.$iframe=e('<iframe class="" src="" border="0" frameborder="0" width="100%" height="" allowTransparency="true" allowfullscreen></iframe>'),i.$youtube=e('<iframe class="" style="width:100%;" width="100%" height="" src="" frameborder="0" allowfullscreen></iframe>'),i.$dailymotion=e('<iframe class="" style="width:100%;" frameborder="0" width="100%" height="" src="" allowTransparency="true" allowfullscreen></iframe>'),i.$vimeo=e('<iframe class="" style="width:100%;" src="" width="100%" height="" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),i.setConfig(t),i.$greybox.append(i.$overlay),i.$container.append(i.$title),i.$container.append(i.$content),i.$container.append(i.$close),i.$greybox.append(i.$container),i.$close.click(function(){i.close()}),i.$overlay.click(function(){i.close()})}(),i}}(jQuery),function(e){e.fn.extend({responsiveSliderMemorizeOffset:function(e){return void 0===this[0].sliderResponsive&&(this[0].sliderResponsive={}),
this[0].sliderResponsive.offset=e,this},responsiveSliderReadOffset:function(){var e;return void 0!==this[0].sliderResponsive.offset&&(e=this[0].sliderResponsive.offset),e},responsiveSliderMemorizeData:function(e,t){return void 0===this[0].sliderResponsive&&(this[0].sliderResponsive={}),this[0].sliderResponsive[e]=t,this},responsiveSliderReadData:function(e){var t;return void 0!==this[0].sliderResponsive&&void 0!==this[0].sliderResponsive[e]&&(t=this[0].sliderResponsive[e]),t},responsiveSliderMemorizeSliderAdaptativeHeight:function(e){return void 0===this[0].sliderResponsive&&(this[0].sliderResponsive={}),this[0].sliderResponsive.adaptativeHeight=e,this},responsiveSliderReadSliderAdaptativeHeight:function(){var e;return void 0!==this[0].sliderResponsive.adaptativeHeight&&(e=this[0].sliderResponsive.adaptativeHeight),e},responsiveSliderResetSliderAdaptativeHeight:function(){return void 0===this[0].sliderResponsive&&(this[0].sliderResponsive={}),void 0!==this[0].sliderResponsive.adaptativeHeight&&(this[0].sliderResponsive.adaptativeHeight=void 0),this},responsiveSliderNeutralizeItemSize:function(){return this.css({height:"1px",visibility:"hidden"}),this},responsiveSliderRecoverItemSize:function(){return this.css({height:"auto",visibility:"visible"}),this},checkHidden:function(){var t=!1;return"none"===this.css("display")&&(t=!0),this.parents().each(function(){"none"===e(this).css("display")&&(t=!0)}),t},responsiveSlider:function(t){var a,i,n,o,r,s,l,u,d,c,p,v,f,g,m={bypass:!1,mode:"slide",cssPrefix:"responsive-slider",pager:!0,sliderRange:1,fitSlides:!1,adaptativeHeight:!0,duration:void 0!==_duration?_duration:500,easing:null,classCurrent:"current",classDisabled:"off",responsive:{},autoPlay:!1,autoPlayDuration:5,resumeAutoPlay:!0,resumeAutoPlayDuration:5,onBeforeSlide:function(){},onAfterSlide:function(){},_round:Math.pow(10,4),_resizeTimeout:.25,_offsetTrigger:20},h=this,b=!1,y=0,M={x:0,y:0},x=!1,$=function(){if(y=0,a=void 0,i=void 0,n=void 0,o=void 0,r=void 0,s=void 0,l=void 0,g=void 0,h.responsiveSliderResetSliderAdaptativeHeight(),void 0!==window.navigator.msPointerEnabled&&(h[0].removeEventListener("MSPointerDown",I),h[0].removeEventListener("MSPointerMove",k),h[0].removeEventListener("MSPointerUp",_)),h[0].removeEventListener("touchstart",I),h[0].removeEventListener("touchmove",k),h[0].removeEventListener("touchend",_),n=cfgManager(m,t),"fade"===n.mode&&(n.sliderRange=1),l=getViewportWidth(),e(window).bind("resize",h.reloadSlider),!n.bypass){f=e("> *",h);var d=h.checkHidden();if(f.length>n.sliderRange&&!d){b=!0,"undefined"==typeof Modernizr||!(void 0!==Modernizr.touch&&Modernizr.touch||void 0!==Modernizr.touchevents&&Modernizr.touchevents)||"slide"!==n.mode&&"flex"!==n.mode||C(),u=e("<div />",{class:n.cssPrefix+"--wrapper",style:"overflow:hidden;"}),h.css({overflow:"hidden",position:"relative"});var c=h.widthPercentage();switch(h.responsiveSliderMemorizeData("native",c),n.mode){case"fade":w();break;default:S()}O(),n.autoPlay&&h.startAutoPlay()}}},w=function(){h.wrap(u),f.filter(":nth-child(n+2)").css({width:"100%",position:"absolute",left:"0",top:"0",display:"none"})},S=function(){var t=h.widthPercentage();h.responsiveSliderMemorizeData("native",t);var a=0;if(f.each(function(){var t=e(this),i=t.widthPercentage();t.responsiveSliderMemorizeData("native",i),t.responsiveSliderMemorizeOffset(a),t.responsiveSliderMemorizeData("offset-visible",a),a+=i}),h.responsiveSliderMemorizeData("relative",a),u.css("width",h.responsiveSliderReadData("native")+"%"),h.wrap(u),h.css("width",a+"%"),"flex"===n.mode&&h.attr("style",h.attr("style")+" display: -ms-flexbox; display: flex;"),f.each(function(){var t=e(this),i=Math.round(100*t.responsiveSliderReadData("native")/a*n._round)/n._round;t.responsiveSliderMemorizeData("relative",i),"slide"===n.mode?t.css({float:"left",clear:"none",width:i+"%"}):"flex"===n.mode&&t.css({width:i+"%"})}),n.fitSlides){var i=Math.abs(100-h.responsiveSliderReadData("relative")),o=Math.abs(100-Math.round(h.responsiveSliderReadData("relative"))),r=!1;f.each(function(){var t=e(this),a=Math.round(t.responsiveSliderReadOffset());r&&t.responsiveSliderMemorizeData("isOutOfRange",!0),a>=o&&(t.responsiveSliderMemorizeOffset(i),r||t.responsiveSliderMemorizeData("isLast",!0),r=!0)})}else f.each(function(){var t=e(this);t.responsiveSliderMemorizeData("isOutOfRange",!1),t.responsiveSliderMemorizeData("isLast",!1)});var s=h.getSlidesOut();n.adaptativeHeight&&s.responsiveSliderNeutralizeItemSize()},C=function(){void 0!==window.navigator.msPointerEnabled&&(h[0].addEventListener("MSPointerDown",I,!1),h[0].addEventListener("MSPointerMove",k,!1),h[0].addEventListener("MSPointerUp",_,!1)),h[0].addEventListener("touchstart",I,!1),h[0].addEventListener("touchmove",k,!1),h[0].addEventListener("touchend",_,!1)},O=function(){d=e("<div />",{class:n.cssPrefix+"--pager-prev"}),c=e("<div />",{class:n.cssPrefix+"--pager-next"}),p=e("<ul />",{class:n.cssPrefix+"--pager-dots"}),d.addClass(n.classDisabled),d.click(h.prevSlide),c.click(h.nextSlide);var t=0;f.each(function(a){var i=e(this),o=e("<li />",{class:n.cssPrefix+"--pager-dot"});a||o.addClass(n.classCurrent),o.responsiveSliderMemorizeData("slideIndex",a),o.click(function(){h.triggerDot(a,o)});var r=i.responsiveSliderReadData("isLast"),s=i.responsiveSliderReadData("isOutOfRange");a%n.sliderRange!=0&&!r||s||(t=a,p.append(o))}),v=e("> li",p),g=f.eq(t),a=v.first(),h.getSlidesOut().length&&("boolean"==typeof n.pager&&n.pager&&D(),"function"==typeof n.pager&&n.pager(h,d,c,p))},D=function(){h.parent().after(p).after(c).after(d)},P=function(t){var a=f.eq(i),o={slider:h,previous:{index:i,elt:a},target:{index:y,elt:t}};n.onBeforeSlide(o);var r={duration:n.duration,complete:function(){n.onAfterSlide(o)}};switch("string"==typeof n.easing&&void 0!==jQuery.easing[n.easing]&&(r.easing=n.easing),n.mode){case"fade":t.css({width:"100%",position:"absolute",left:"0",top:"0",display:"block",opacity:0});var s=t.innerHeight();t.removeAttr("style").css({width:"100%",position:"absolute",left:"0",top:"0",display:"none"});var l=cloneObject(r);l=e.extend(l,{complete:function(){}});var u=cloneObject(r);u=e.extend(u,{complete:function(){a.css({position:"absolute"})}});var d=cloneObject(r);d=e.extend(d,{complete:function(){t.removeAttr("style"),n.onAfterSlide(o)}}),a.fadeOut(u),t.fadeIn(d),n.adaptativeHeight&&h.animate({height:s+"px"},l);break;default:var c=h.getSlidesOut(),p=t.responsiveSliderReadOffset(),v=cloneObject(r);v=e.extend(v,{complete:function(){n.adaptativeHeight&&c.responsiveSliderNeutralizeItemSize(),n.onAfterSlide(o)}});var g=h.responsiveSliderReadSliderAdaptativeHeight();void 0===g&&(g=h.innerHeight()),f.responsiveSliderRecoverItemSize();var m=h.getSlidesInHigher();h.responsiveSliderMemorizeSliderAdaptativeHeight(m);var b={left:"-"+p+"%"};m!==g&&n.adaptativeHeight&&(h.css({height:g+"px"}),b.height=m+"px"),h.animate(b,v)}},I=function(){if(1===event.touches.length){var e=event.touches[0];M.x=e.pageX,M.y=e.pageY,h.stop(!0,!0);var t=h.getSlidesInHigher();n.adaptativeHeight&&h.css({height:t+"px"}),f.responsiveSliderRecoverItemSize(),n.autoPlay&&clearInterval(r),n.resumeAutoPlay&&clearTimeout(s)}},k=function(){if(1===event.touches.length){var e=event.touches[0];if(Math.abs(M.y-e.pageY)<Math.abs(M.x-e.pageX)){var t=M.x-e.pageX;if(Math.abs(t)>n._offsetTrigger){x=!0,t=t*h.responsiveSliderReadData("relative")/100/h.width(),t=Math.round(100*t*n._round)/n._round;var a=-h.getCurrent().elt.responsiveSliderReadOffset(),i=a-t;i>0&&(i=0);var o=-g.responsiveSliderReadOffset();i<o&&(i=o),h.css({left:i+"%"}),event.stopPropagation(),event.preventDefault()}else x=!1}}},_=function(){if(1===event.changedTouches.length){var e=event.changedTouches[0],t=M.x-e.pageX;x&&Math.abs(t)>n._offsetTrigger&&(t>0?h.nextSlide():h.prevSlide())}};return h.reachSlide=function(e,t){i=y,y=e,a=t,a.next().length?c.removeClass(n.classDisabled):c.addClass(n.classDisabled),a.prev().length?d.removeClass(n.classDisabled):d.addClass(n.classDisabled),h.stop(!0,!0),f.stop(!0,!0);var o=f.eq(t.responsiveSliderReadData("slideIndex"));P(o)},h.prevSlide=function(){var e=a.prev();e.length&&e.click()},h.nextSlide=function(){var e=a.next();e.length&&e.click()},h.triggerDot=function(e,t){t.hasClass(n.classCurrent)||(v.removeClass(n.classCurrent),t.addClass(n.classCurrent),n.autoPlay&&h.stopAutoPlay(),h.reachSlide(e,t))},h.nextSlideEndless=function(){var e=a.next();e.length||(e=v.first()),e.click()},h.getCurrent=function(){return{index:y,elt:f.eq(y)}},h.getSlides=function(){return f},h.getSlidesIn=function(){var t,i=[];t=void 0===a?f.first():f.eq(a.responsiveSliderReadData("slideIndex")),i.push(t[0]);var n=t.responsiveSliderReadData("native");return t.nextAll().each(function(){var t=e(this);Math.round(n)<100&&i.push(this),n+=t.responsiveSliderReadData("native")}),e(i)},h.getSlidesOut=function(){var t=[],a=h.getSlidesIn();return a.first().prevAll().each(function(){t.push(this)}),a.last().nextAll().each(function(){t.push(this)}),e(t)},h.getSlidesInHigher=function(){var t=0;return h.getSlidesIn().each(function(){var a=e(this),i=a.innerHeight();i>t&&(t=i)}),t},h.startAutoPlay=function(){r=setInterval(function(){h.nextSlideEndless()},1e3*n.autoPlayDuration)},h.stopAutoPlay=function(e){"boolean"==typeof e&&e||(e=!1),clearInterval(r),clearTimeout(s),n.resumeAutoPlay&&!e&&(s=setTimeout(function(){h.startAutoPlay()},1e3*n.resumeAutoPlayDuration))},h.reloadSlider=function(){clearTimeout(o),o=setTimeout(function(){var e=getViewportWidth();e!==l&&(l=e,h.destroySlider(),$())},1e3*n._resizeTimeout)},h.destroySlider=function(){b&&(e(window).unbind("resize",h.reloadSlider),"undefined"!=typeof Modernizr&&void 0!==Modernizr.touch&&Modernizr.touch&&(void 0!==window.navigator.msPointerEnabled&&(h[0].removeEventListener("MSPointerDown",I),h[0].removeEventListener("MSPointerMove",k),h[0].removeEventListener("MSPointerUp",_)),h[0].removeEventListener("touchstart",I),h[0].removeEventListener("touchmove",k),h[0].removeEventListener("touchend",_)),n.autoPlay&&clearInterval(r),n.resumeAutoPlay&&clearTimeout(s),h.stop(!0,!0),f.stop(!0,!0),void 0!==d&&d.remove(),void 0!==c&&c.remove(),void 0!==p&&p.remove(),void 0!==v&&v.remove(),h.removeAttr("style"),h.parent().is("div."+n.cssPrefix+"--wrapper")&&h.unwrap(u),f.removeAttr("style"))},$(),h}})}(jQuery);